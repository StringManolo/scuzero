<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Scuzero - Advanced Camera Monitor</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background: #f0f0f0;
    }
    .container {
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    button {
      background: #007bff;
      color: white;
      border: none;
      padding: 10px 20px;
      margin: 5px;
      border-radius: 5px;
      cursor: pointer;
    }
    .section {
      margin: 15px 0;
      padding: 15px;
      border: 1px solid #ddd;
      border-radius: 5px;
      background: #f9f9f9;
    }
    .status {
      margin-left: 10px;
      font-weight: bold;
    }
    .status.active {
      color: green;
    }
    .status.inactive {
      color: red;
    }
    .status.warning {
      color: orange;
    }
    .info-text {
      font-size: 12px;
      color: #666;
      margin-top: 10px;
    }
    .log-area {
      width: 100%;
      height: 300px;
      margin-top: 10px;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
      background: #1e1e1e;
      color: #00ff00;
      font-family: 'Courier New', monospace;
      font-size: 11px;
      resize: vertical;
      white-space: pre-wrap;
      overflow-y: scroll;
    }
    .controls {
      margin: 10px 0;
    }
    .permission-warning {
      background: #fff3cd;
      border: 1px solid #ffeaa7;
      color: #856404;
      padding: 10px;
      border-radius: 5px;
      margin: 10px 0;
    }
    .log-header {
      display: flex;
      justify-content: between;
      align-items: center;
      margin-bottom: 10px;
    }
    .log-header h2 {
      margin: 0;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ”’ Scuzero Advanced Camera Monitor</h1>

    <div id="permissionWarning" class="permission-warning" style="display: none;">
      <strong>âš  Permissions Required:</strong> 
      <span id="permissionText"></span>
      <button onclick="fixPermissions()">Fix Permissions</button>
    </div>

    <div class="section">
      <h2>ğŸ“¹ Camera Access Monitor</h2>
      <div class="controls">
        <button onclick="startMonitoring()">ğŸš€ Start Advanced Monitoring</button>
        <button onclick="stopMonitoring()">ğŸ›‘ Stop Monitoring</button>
        <button onclick="clearLogs()">ğŸ—‘ï¸ Clear Logs</button>
        <button onclick="refreshLogs()">ğŸ”„ Refresh Logs</button>
        <button onclick="checkPermissions()">ğŸ” Check Permissions</button>
      </div>
      <span id="monitorStatus" class="status inactive">Not Monitoring</span>
      <div class="info-text">
        Advanced monitoring detects camera access, app foreground/background events, and flashlight usage.
        Shows detailed technical information for advanced users. Logs are automatically saved to ./scuzero_logs/camera_logs.txt
      </div>
    </div>

    <div class="section">
      <div class="log-header">
        <h2>ğŸ“‹ Camera Access Logs (Advanced)</h2>
        <button onclick="copyLogs()">ğŸ“‹ Copy Logs</button>
      </div>
      <textarea id="cameraLogs" class="log-area" readonly></textarea>
      <div class="info-text">
        Real-time detailed logs with package info and technical details. 
        Notifications will alert you when camera access is detected, even when app is in background.
        Duplicate logs within the same minute are filtered automatically.
      </div>
    </div>

    <div class="section">
      <h2>âš™ï¸ Permissions & Settings</h2>
      <button onclick="openUsageSettings()">ğŸ“Š Grant Usage Access</button>
      <button onclick="requestCameraPermission()">ğŸ“· Request Camera Permission</button>
      <div class="info-text">
        Required permissions for full monitoring functionality
      </div>
    </div>
  </div>

  <script src="scuzero-ui-logic.js"></script>
</body>
</html>
